---
import "../../public/assets/css/main.scss";
import "@styles/global.css";

import { SEO } from "astro-seo";

import Header from "@components/Header.astro";
import Footer from "@components/Footer.astro";
import GA4 from "@components/GA4.astro";

export interface Props {
  title?: string;
  description?: string;
  noindex?: boolean;
}

const props = Astro.props;

const BASE_TITLE = "CRAZY CAREER";
const title = props.title ? `${props.title} | ${BASE_TITLE}` : BASE_TITLE;
const BASE_DESCRIPTION = "CRAZY CAREER";
const description = props.description ?? BASE_DESCRIPTION;
---

<!DOCTYPE html>
<html lang="ja">
  <head>
    <SEO
      title={title}
      description={description}
      noindex={props.noindex ?? false}
      charset="UTF-8"
      openGraph={{
        basic: {
          title,
          type: "website",
          image: `${import.meta.env.PUBLIC_SITE_URL}/og.png`,
        },
      }}
      extend={{
        link: [{ rel: "icon", href: "/favicon.ico" }],

        meta: [
          { name: "viewport", content: "width=device-width" },
          { name: "twitter:card", content: "summary_large_image" },
        ],
      }}
    />

    <link rel="stylesheet" href="https://use.typekit.net/nwu7ifh.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Noto+Serif+JP:wght@200..900&display=swap"
      rel="stylesheet"
    />

    {import.meta.env.PUBLIC_GOOGLE_ANALYTICS_ID && <GA4 />}
  </head>
  <body>
    <Header />
    <main>
      <slot />
    </main>
    <Footer />

    <script>
      import "@global/smallDevice";
    </script>
    <script is:inline src="/assets/js/gsap.min.js"></script>
    <script is:inline src="/assets/js/ScrollTrigger.min.js"></script>

    <script is:inline src="/assets/js/imagesloaded.pkgd.min.js"></script>

    <script is:inline src="/assets/js/lenis.min.js"></script>

    <script is:inline src="/assets/js/smoothscroll.js"></script>
    <script is:inline src="/assets/js/index.js"></script>
  </body>
</html>
